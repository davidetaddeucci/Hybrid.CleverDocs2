@using Hybrid.CleverDocs.WebUI.Helpers
@{
    var currentController = ViewContext.RouteData.Values["controller"]?.ToString();
    var currentAction = ViewContext.RouteData.Values["action"]?.ToString();
}

<ul class="navbar-nav">
    <!-- Admin Dashboard -->
    <li class="nav-item md-ext-submenu">
        <a class="nav-link @(currentController == "AdminDashboard" ? "active bg-gradient-primary" : "text-dark")"
           href="#" data-bs-toggle="collapse" data-bs-target="#dashboardSubmenu" aria-expanded="false">
            <i class="material-symbols-rounded opacity-5">dashboard</i>
            <span class="nav-link-text ms-1">Dashboard</span>
        </a>
        <ul class="navbar-nav ms-3 collapse md-ext-submenu-list" id="dashboardSubmenu">
            <li class="nav-item">
                <a class="nav-link @(currentController == "AdminDashboard" && ViewContext.RouteData.Values["action"]?.ToString() == "Index" ? "active" : "text-dark")"
                   href="@Url.Action("Index", "AdminDashboard")">
                    <i class="material-symbols-rounded opacity-5">analytics</i>
                    <span class="nav-link-text ms-1">Overview</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(currentController == "AdminDashboard" && ViewContext.RouteData.Values["action"]?.ToString() == "Customizable" ? "active" : "text-dark")"
                   href="@Url.Action("Customizable", "AdminDashboard")">
                    <i class="material-symbols-rounded opacity-5">tune</i>
                    <span class="nav-link-text ms-1">Customizable</span>
                </a>
            </li>
        </ul>
    </li>

    <!-- System Management -->
    <li class="nav-item md-ext-submenu md-ext-role-admin">
        <a class="nav-link text-dark" href="#" data-bs-toggle="collapse" data-bs-target="#systemSubmenu" aria-expanded="false" aria-controls="systemSubmenu">
            <i class="material-symbols-rounded opacity-5">admin_panel_settings</i>
            <span class="nav-link-text ms-1">System Management</span>
        </a>
        <ul class="md-ext-submenu-list collapse" id="systemSubmenu" role="menu">
            <li class="nav-item">
                <a class="nav-link text-dark @Html.IsActive("Index", "Companies", "md-ext-active")" href="@Url.Action("Index", "Companies")">
                    <span class="nav-link-text ms-1">Companies</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark @Html.IsActive("Index", "Users", "md-ext-active")" href="@Url.Action("Index", "Users")">
                    <span class="nav-link-text ms-1">Users</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark @Html.IsActive("Index", "SystemSettings", "md-ext-active")" href="@Url.Action("Index", "SystemSettings")">
                    <span class="nav-link-text ms-1">System Settings</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark @Html.IsActive("Index", "AuditLogs", "md-ext-active")" href="@Url.Action("Index", "AuditLogs")">
                    <span class="nav-link-text ms-1">Audit Logs</span>
                </a>
            </li>
        </ul>
    </li>

    <!-- Content Management -->
    <li class="nav-item md-ext-submenu md-ext-role-company">
        <a class="nav-link text-dark" href="#" data-bs-toggle="collapse" data-bs-target="#contentSubmenu" aria-expanded="false" aria-controls="contentSubmenu">
            <i class="material-symbols-rounded opacity-5">description</i>
            <span class="nav-link-text ms-1">Content Management</span>
        </a>
        <ul class="md-ext-submenu-list collapse" id="contentSubmenu" role="menu">
            <li class="nav-item">
                <a class="nav-link text-dark @Html.IsActive("Index", "AdminDocuments", "md-ext-active")" href="@Url.Action("Index", "AdminDocuments")">
                    <span class="nav-link-text ms-1">All Documents</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark @Html.IsActive("Index", "AdminCollections", "md-ext-active")" href="@Url.Action("Index", "AdminCollections")">
                    <span class="nav-link-text ms-1">All Collections</span>
                </a>
            </li>
        </ul>
    </li>

    <!-- Account -->
    <li class="nav-item mt-3">
        <h6 class="ps-4 ms-2 text-uppercase text-xs text-dark font-weight-bolder opacity-5">Account</h6>
    </li>

    <!-- Profile -->
    <li class="nav-item">
        <a class="nav-link @(currentController == "Profile" ? "active bg-gradient-primary" : "text-dark")" 
           href="@Url.Action("Index", "Profile")">
            <i class="material-symbols-rounded opacity-5">person</i>
            <span class="nav-link-text ms-1">Profile</span>
        </a>
    </li>

    <!-- Settings -->
    <li class="nav-item">
        <a class="nav-link @(currentController == "Settings" ? "active bg-gradient-primary" : "text-dark")" 
           href="@Url.Action("Account", "Settings")">
            <i class="material-symbols-rounded opacity-5">settings</i>
            <span class="nav-link-text ms-1">Settings</span>
        </a>
    </li>

    <!-- Logout -->
    <li class="nav-item">
        <form asp-controller="Auth" asp-action="Logout" method="post" style="margin: 0;">
            <button type="submit" class="nav-link text-dark" style="background: none; border: none; width: 100%; text-align: left; padding: 0.5rem 1rem;" onclick="return confirm('Are you sure you want to logout?')">
                <i class="material-symbols-rounded opacity-5">logout</i>
                <span class="nav-link-text ms-1">Logout</span>
            </button>
        </form>
    </li>
</ul>