@{
    var userRole = ViewBag.UserRole?.ToString()?.ToLower() ?? "user";
}

<ul class="navbar-nav">
    <!-- Dashboard -->
    <li class="nav-item">
        <a class="nav-link text-dark" href="@Url.Action("Index", "Dashboard")">
            <i class="material-symbols-rounded opacity-5">dashboard</i>
            <span class="nav-link-text ms-1">Dashboard</span>
        </a>
    </li>

    <!-- Documents -->
    <li class="nav-item">
        <a class="nav-link text-dark" href="@Url.Action("Index", "Documents")">
            <i class="material-symbols-rounded opacity-5">description</i>
            <span class="nav-link-text ms-1">Documents</span>
        </a>
    </li>

    <!-- Collections -->
    <li class="nav-item">
        <a class="nav-link text-dark" href="@Url.Action("Index", "Collections")">
            <i class="material-symbols-rounded opacity-5">folder</i>
            <span class="nav-link-text ms-1">Collections</span>
        </a>
    </li>

    <!-- AI Chat -->
    <li class="nav-item">
        <a class="nav-link text-dark" href="@Url.Action("Index", "Chat")">
            <i class="material-symbols-rounded opacity-5">chat</i>
            <span class="nav-link-text ms-1">AI Chat</span>
        </a>
    </li>

    <!-- Search -->
    <li class="nav-item">
        <a class="nav-link text-dark" href="@Url.Action("Index", "Search")">
            <i class="material-symbols-rounded opacity-5">search</i>
            <span class="nav-link-text ms-1">Search</span>
        </a>
    </li>

    @if (userRole == "admin")
    {
        <!-- Admin Section -->
        <li class="nav-item mt-3">
            <h6 class="ps-4 ms-2 text-uppercase text-xs text-dark font-weight-bolder opacity-5">Administration</h6>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" href="@Url.Action("Index", "Companies")">
                <i class="material-symbols-rounded opacity-5">business</i>
                <span class="nav-link-text ms-1">Companies</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" href="@Url.Action("Index", "AdminUsers")">
                <i class="material-symbols-rounded opacity-5">admin_panel_settings</i>
                <span class="nav-link-text ms-1">Admin Users</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" href="@Url.Action("Health", "System")">
                <i class="material-symbols-rounded opacity-5">monitor_heart</i>
                <span class="nav-link-text ms-1">System Health</span>
            </a>
        </li>
    }

    @if (userRole == "admin" || userRole == "company")
    {
        <!-- Company Section -->
        <li class="nav-item mt-3">
            <h6 class="ps-4 ms-2 text-uppercase text-xs text-dark font-weight-bolder opacity-5">Company</h6>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" href="@Url.Action("Index", "CompanyUsers")">
                <i class="material-symbols-rounded opacity-5">group</i>
                <span class="nav-link-text ms-1">Users</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" href="@Url.Action("Settings", "Company")">
                <i class="material-symbols-rounded opacity-5">settings</i>
                <span class="nav-link-text ms-1">Settings</span>
            </a>
        </li>
    }

    <!-- Account Section -->
    <li class="nav-item mt-3">
        <h6 class="ps-4 ms-2 text-uppercase text-xs text-dark font-weight-bolder opacity-5">Account</h6>
    </li>
    <li class="nav-item">
        <a class="nav-link text-dark" href="@Url.Action("Profile", "User")">
            <i class="material-symbols-rounded opacity-5">person</i>
            <span class="nav-link-text ms-1">Profile</span>
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link text-dark" href="@Url.Action("Account", "Settings")">
            <i class="material-symbols-rounded opacity-5">settings</i>
            <span class="nav-link-text ms-1">Settings</span>
        </a>
    </li>
    <li class="nav-item">
        <form asp-controller="Auth" asp-action="Logout" method="post" style="margin: 0;">
            <button type="submit" class="nav-link text-dark" style="background: none; border: none; width: 100%; text-align: left; padding: 0.5rem 1rem;">
                <i class="material-symbols-rounded opacity-5">logout</i>
                <span class="nav-link-text ms-1">Logout</span>
            </button>
        </form>
    </li>
</ul>